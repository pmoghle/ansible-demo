---
- hosts: localhost
  connection: local 
  tasks:
  - name: create S3 bucket
    s3_bucket:
      name: poojanewbucket
      aws_access_key: AKIAZOGSWYVYFIPZ7LVJ
      aws_secret_key: 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
      state: present
      region: ap-south-1
      versioning: no
      tags:
         name: poojanewbucket
         type: example
         // Set public access permissions on the bucket
        sh 'aws s3api put-public-access-block --bucket poojanewbucket --public-access-block-configuration BlockPublicAcls=false,IgnorePublicAcls=false,BlockPublicPolicy=false,RestrictPublicBuckets=false'
